<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/multi_step_form/main.css">
</head>

<body>


    


    <% var basic_detail = result[0][0] %>
    <% var sch_detail = result[1][0] %>
    <% var col_detail = result[2][0] %>
    <% var company_detail = result[3] %>
 
 
    <% var reference_detail = result[4] %>
 
    <% var preference_detail = result[5][0] %>


        <h1>update Job Application form </h1>

        <form action="#" name="job_form" id="job_form_detail">

            <div id="basic-details">

                <div style="display: flex;gap: 15px;margin-top: 2rem;">
    
                    <div>
                        <div class="submit-btn-id" onclick="getUserId()">click Here to get Id </div>
                    </div>
            
                </div>


                <table>


                    <h3 class="center">Basic Detail</h3>


                    <tr>

                        <td style="display: flex;justify-content:space-between;margin-bottom: 1rem;">

                            <div>
                                <label for="first_name">First Name </label>

                                <input type="text" name="firstname" id="firstname" placeholder="Enter first name"
                                    tabindex="1" class="require-field basic_detail" value="<%= basic_detail.first_name %>">
                                <div><span class="error-msg"></span></div>




                            </div>

                            <div>
                                <label for="last_name">Last Name</label>
                                <input type="text" name="lastname" id="lastname" placeholder="Enter last name"
                                    tabindex="2" class="require-field basic_detail" value="<%= basic_detail.last_name %>">
                                <div><span class="error-msg"></span></div>

                            </div>


                        </td>

                    </tr>


                    <tr>
                        <td style="display: flex;justify-content:space-between;margin-bottom: 1rem;">

                            <div><label for="designation">Designation </label>
                                <input type="text" name="designation" id="designation"
                                    class="require-field basic_detail" value="<%= basic_detail.Designation %>" placeholder="Enter designation" tabindex="4">
                                <div><span class="error-msg"></span></div>
                            </div>
                            <div> <label for="email">Email</label>
                                <input type="text" name="email" id="email" placeholder="Enter email"
                                    class="require-field basic_detail" tabindex="3" value="<%= basic_detail.Email %>">
                                <div><span class="error-msg"></span>
                                    <span id="email-err"></span>
                                </div>
                            </div>


                        </td>
                    </tr>


                    <tr>


                        <td style="display: flex;justify-content:space-between;gap:5px;margin-bottom: 1rem;">
                            <div>
                                <label for="phonenumber">phone number</label>
                                <input type="text" name="phonenumber" id="phone_number" placeholder="Enter phone number"
                                    class="require-field basic_detail" tabindex="5" value="<%= basic_detail.phone_number %>">
                                <div><span class="error-msg"></span>
                                    <span id="phone-err"></span>
                                </div>
                            </div>
                            <div><label for="dob">Date Of Birth</label>
                                <input type="text" name="dob" id="dob" placeholder="Enter date of birth"
                                    class="require-field basic_detail" tabindex="6" value="<%= basic_detail.Date_Of_Birth %>">
                                <div><span class="error-msg"></span>
                                    <span id="dob-err"></span>
                                </div>
                            </div>



                        </td>
                    </tr>


                    <tr>

                        <td
                            style="display: flex;justify-content:space-between;align-items: center;margin-bottom: 1rem;">

                            <div><label for="address1">Address 1</label>
                                <input type="text" name="address1" id="address1" cols="25" rows="1" placeholder="Enter address1"
                                    class="require-field basic_detail" value="<%= basic_detail.Address1 %>" >
                                <div><span class="error-msg"></span></div>
                            </div>
                            <div><label for="address2">Address 2</label>
                                <input type="text" name="address2" id="address2" cols="25" rows="1" placeholder="Enter address2"
                                    class="require-field basic_detail" value="<%= basic_detail.Address2 %>">
                                <div><span class="error-msg"></span></div>
                            </div>


                        </td>
                    </tr>
                    <tr>
                        <td style="display: flex;justify-content:space-between;margin-bottom: 1rem;">
                            <div> <label for="zipcode">Zip Code</label>
                                <input type="text" name="zipcode" id="zipcode" class="require-field basic_detail" value="<%= basic_detail.ZipCode %>">
                                <div><span class="error-msg"></span>
                                    <span class="zipcode-err"></span>
                                </div>
                            </div>


                        </td>


                    </tr>


                    <tr>

                        <td style="display: flex;gap: 10px;margin-bottom: 1rem;">

                            <label name="gender">Gender</label>

                            <% let option = basic_detail.gender %>
                            <% let maleField %>
                            <% let femaleField %>
                            <% option == 'male'?maleField="checked":"" %>
                            <% option == 'female'?femaleField="checked":"" %>


                            <input type="radio" name="gender" id="male" value="male" class="" <%=maleField%>>
                            <label for="male">Male</label>

                            <input type="radio" name="gender" id="female" value="female" class="" <%=femaleField%>>
                            <label for="female">Female </label>

                        </td>
                    </tr>


                    <tr>
                        <td style="display: flex;gap: 10px;margin-bottom: 1rem;">
                            <label for="relation_status">relationship staus</label>
                            <select name="status" id="status" class="basic_detail">
                                <option value="<%=basic_detail.Relationship_status %>" hidden><%=basic_detail.Relationship_status %></option>
                                <option value="Single">Single</option>
                                <option value="Married">Married</option>

                            </select>

                    </tr>


                    <tr>
                        <td style="display: flex;gap: 20px;margin-bottom: 1rem;">

                            <div> <label name="city" id="city_label">City</label>
                                <input type="text" id="basic_detail_city" name="city" placeholder="Enter city name"
                                    class="require-field basic_detail" value="<%= basic_detail.city %>">
                                <div><span class="error-msg"></span></div>
                            </div>
                            <div><label for="state">State</label>

                                <select name="state" id="state" class="basic_detail">
                                    
                                    <option value="<%=basic_detail.state %>" hidden><%=basic_detail.state %></option>
                                    <option value="Gujarat">Gujarat</option>
                                    <option value="Maharastra">Maharastra</option>
                                    <option value="Goa">Goa</option>
                                </select>
                            </div>





                        </td>
                    </tr>

                    <div onclick="basic_deails_update()" class="submit-btn-id">update Records</div>

                </table>

                <div class="btn-div-basic">

                    <div id="basic_details_next" onclick="basic_detail_handler()" class="next-btn">Next</div>

                </div>

            </div>



            <div id="education_details" class="hidden">


                <h3 class="center">Education Details</h3>

                <table>



                    <tr>

                        <td>
                            <h5>Ssc result</h5>
                            <div style="display: flex;gap: 10px;">
                                <div><label for="ssc_board">Name of Board</label>
                                    <input type="text" name="ssc_board" class="edu_detail require-field-edu"
                                        id="ssc_field" value="<%= sch_detail.ssc_board %>">
                                    <div><span class="error-msg-education"></span></div>
                                </div>
                                <div> <label for="ssc_year">Passing year </label>
                                    <input type="text" name="ssc_year" value="<%= sch_detail.ssc_passing_year %>"
                                        class="pass-year ssc_div edu_detail require-field-edu">
                                    <div><span class="error-msg-education"></span>
                                        <!-- <span class="error-pass-year"></span> -->
                                    </div>
                                </div>
                                <div><label for="ssc_per">Percentage</label>
                                    <input type="text" name="ssc_per" value="<%= sch_detail.ssc_percentage %>"  class="ssc_div edu_detail require-field-edu">
                                    <div><span class="error-msg-education"></span></div>
                                </div>


                            </div>





                            <hr>
                        </td>

                    </tr>



                    <tr>

                        <td>

                            <h5>HSC result</h5>
                            <div style="display: flex;gap: 10px;">
                                <div>
                                    <label for="hsc_board">Name of Board</label>
                                    <input type="text" name="hsc_board" class="edu_detail require-field-edu"
                                        id="hsc_field" value="<%= sch_detail.hsc_board %>">
                                    <div><span class="error-msg-education"></span></div>
                                </div>

                                <div><label for="hsc_year">Passing year</label>
                                    <input type="text" name="hsc_year"
                                    value="<%= sch_detail.hsc_passing_year %>"   class="pass-year hsc_div edu_detail require-field-edu">
                                    <div><span class="error-msg-education"></span></div>
                                    <!-- <div><span class="error-msg"></span>
                            <span class="error-pass-year"></span>
                        </div> -->
                                </div>
                                <div>
                                    <label for="hsc_per">Percentage</label>
                                    <input type="text" name="hsc_per" class="hsc_div edu_detail require-field-edu" value="<%= sch_detail.hsc_percentage %>">
                                    <!-- <div><span class="error-msg"></span></div> -->
                                    <div><span class="error-msg-education"></span></div>

                                </div>
                            </div>



                            <hr>
                        </td>

                    </tr>




                    <tr>

                        <td>

                            <h5>bachelor degree</h5>

                            <div style="display: flex;gap: 10px;">
                                <div><label for="c_name">Course Name</label>
                                    <input type="text" name="ba_c_name" class="edu_detail require-field-edu"
                                        id="col_deg_field_1" value="<%= col_detail.bachelar_course_name %>">
                                    <div><span class="error-msg-education"></span></div>
                                </div>
                                <div> <label for="c_uni">University</label>
                                    <input type="text" name="ba_c_uni" value="<%= col_detail.bachelar_university %>" class="col_div_1 edu_detail require-field-edu">
                                    <!-- <div><span class="error-msg"></span></div> -->
                                    <div><span class="error-msg-education"></span></div>
                                </div>
                                <div><label for="p_year">passing Year</label>
                                    <input type="text" name="ba_p_year"
                                        class="col_div_1 pass-year edu_detail require-field-edu" value="<%= col_detail.bachelar_passing_year %>">
                                    <div><span class="error-msg-education"></span></div>
                                    <!-- <div><span class="error-msg"></span>
                            <span class="error-pass-year"></span>
                        </div> -->
                                </div>
                                <div><label for="Percentage">Percentage</label>
                                    <input type="text" name="ba_percentage"
                                        class="col_div_1 edu_detail require-field-edu" value="<%= col_detail.bachelar_percentage %>">
                                    <!-- <div><span class="error-msg"></span></div> -->
                                    <div><span class="error-msg-education"></span></div>
                                </div>
                            </div>


                            <hr>
                        </td>

                    </tr>



                    <tr>

                        <td>

                            <h5>Master degree</h5>

                            <div style="display: flex;gap: 10px;">
                                <div><label for="c_name">Course Name</label>
                                    <input type="text" name="master_c_name" class="edu_detail require-field-edu" value="<%= col_detail.master_course_name %>"
                                        id="col_deg_field_2">
                                    <div><span class="error-msg-education"></span></div>
                                </div>
                                <div><label for="c_uni">University</label>
                                    <input type="text" name="master_c_uni"
                                        class="col_div_2 edu_detail require-field-edu" value="<%= col_detail.master_university %>">
                                    <!-- <div><span class="error-msg"></span></div> -->
                                    <div><span class="error-msg-education"></span></div>
                                </div>
                                <div> <label for="p_year">passing Year</label>
                                    <input type="text" name="master_p_year"
                                        class="col_div_2 pass-year edu_detail require-field-edu" value="<%= col_detail.master_passing_year %>">
                                    <div><span class="error-msg-education"></span></div>
                                    <!-- <div><span class="error-msg"></span>
                            <span class="error-pass-year"></span>
                        </div> -->
                                </div>
                                <div> <label for="Percentage">Percentage</label>
                                    <input type="text" name="master_percentage"
                                        class="col_div_2 edu_detail require-field-edu" value="<%= col_detail.master_percentage %>">
                                    <div><span class="error-msg-education"></span></div>
                                    <!-- <div><span class="error-msg"></span></div> -->
                                </div>
                            </div>



                            <hr>

                        </td>

                    </tr>

                    <div onclick="edu_detail_update()" class="submit-btn-id" style="margin-bottom: 1rem;">update Records</div>



                </table>

                <div class="btn-div">

                    <div id="education_details_prev" onclick="education_detail_prev_handler()" class="prev-btn">Prev
                    </div>

                    <div id="education_details_next" onclick="education_detail_next_handler()" class="next-btn">Next
                    </div>

                </div>





            </div>



            <div id="work_experience" class="hidden">


                <h3 class="center">Work Experience</h3>



                <table id="company_row">




                    <tr class="company_div">

                        <td>
                            <div style="display: flex;gap: 10px;">
                                <input type="text" name="w_id" value="<%= company_detail[0].w_id%>" hidden/>
                                <div> <label for="c_name">Company name</label>
                                    <input type="text" name="c_name" id="cmp_1" value="<%= company_detail[0].company_name %>"
                                        class="cmp_nam company_name require-field-work" >
                                    <div> <span class="error-msg-work"></span></div>

                                </div>
                                <div><label for="des_1">Designation</label>
                                    <input type="text" name="des_1"
                                        class="cmp-field company_designation require-field-work"  value="<%= company_detail[0].designation %>">
                                    <div> <span class="error-msg-work"></span></div>
                                    <!-- <div><span class="error-msg"></span>
                                <span class="cmp-err"></span>
                            </div> -->

                                </div>  
                                <div> <label for="from">From</label>
                                    <input type="text" name="date_from"
                                    value="<%= company_detail[0].from_date %>"    class="cmp-field company_from require-field-work">

                                    <!-- <span class="error-msg"></span> -->
                                    <!-- <span class="cmp-err"></span> -->
                                    <div> <span class="error-msg-work"></span></div>

                                </div>
                                <div> <label for="to">To</label>
                                    <input type="text" name="date_to" class="cmp-field company_to require-field-work"
                                    value="<%= company_detail[0].to_date %>">
                                    <div> <span class="error-msg-work"></span></div>
                                    <!-- <div><span class="error-msg"></span></div> -->

                                </div>
                            </div>







                        </td>
                    </tr>

                    <tr class="company_div" id="clone_td">

                        <td>
                            <div style="display: flex;gap: 10px;">
                                <input type="text"  name="w_id" value="<%= company_detail[1].w_id%>" hidden/>
                                <div><label for="c_name">Company name</label>
                                    <input type="text" name="c_name" id="cmp_2" value="<%= company_detail[1].company_name %>"  class="company_name require-field-work">
                                    <!-- <div><span id="error-cmp-field"></span></div> -->
                                    <div> <span class="error-msg-work"></span></div>
                                </div>
                                <div><label for="des_1">Designation</label>
                                    <input type="text" name="des_1"
                                        class="cmp_field company_designation require-field-work " value="<%= company_detail[1].designation %>" >
                                    <div> <span class="error-msg-work"></span></div>
                                    <!-- <div><span class="error-msg"></span></div> -->
                                </div>
                                <div> <label for="from">From</label>
                                    <input type="text" name="date_from"
                                        class="cmp_field company_from require-field-work" value="<%= company_detail[1].from_date %>">
                                    <div> <span class="error-msg-work"></span></div>
                                    <!-- <div><span class="error-msg"></span></div> -->
                                </div>
                                <div> <label for="to">To</label>
                                    <input type="text" name="date_to" class="cmp_field company_to require-field-work" value="<%= company_detail[1].to_date %>">
                                    <div> <span class="error-msg-work"></span></div>
                                    <!-- <div><span class="error-msg"></span></div> -->
                                </div>


                            </div>




                        </td>

                    </tr>


                    

                    </tr>

                    <!-- <div style="display: flex;gap: 15px;margin-bottom: 1.5rem;">

                        <button class="cmp_add_btn" style="padding: 5px 7px;background-color: rgb(235, 188, 128);"
                            onclick="add_company_row()">+</button>
                        <button class="cmp_remove_btn" style="padding:5px 9px;background-color: rgb(235, 188, 128);"
                            onclick="remove_company_row()">-</button>

                    </div> -->


                    <div onclick="work_experience_update()" class="submit-btn-id" style="margin-bottom: 1rem;">update Records</div>




                </table>


                <div class="btn-div">


                    <div id="work_experience_details_prev" onclick="work_experience_detail_prev_handler()"
                        class="prev-btn">
                        Prev
                    </div>
                    <div id="work_experience_details_next" onclick="work_experience_detail_next_handler()"
                        class="next-btn">
                        Next
                    </div>

                </div>


            </div>

            <div id="language_known" class="hidden">


                <h3 class="center">Language Known</h3>

                <% var english_speak ="" %>
            <% var english_write = "" %>
            <% var english_read = "" %>
             
            <% if(lan_obj.English.length != 0) { %>
                  
                <% for(let i=0;i<lan_obj.English.length;i++){ %>
                     
                       <% if(lan_obj.English[i] == 'read'){ %>
                             <% english_read ="checked" %>
                         <% } %>
          
                         <% if(lan_obj.English[i] == 'speak'){ %>
                          <% english_speak ="checked" %>
                      <% } %>
          
                      <% if(lan_obj.English[i] == 'write'){ %>
                          <% english_write ="checked" %>
                      <% } %>
               <% } %>
          
           <% } %>
          
          
           <% var hindi_speak ="" %>
           <% var hindi_write = "" %>
           <% var hindi_read = "" %>
          
          
           <% if(lan_obj.Hindi.length != 0) { %>
                  
              <% for(let i=0;i<lan_obj.Hindi.length;i++){ %>
                   
                     <% if(lan_obj.Hindi[i] == 'read'){ %>
                           <% hindi_read ="checked" %>
                       <% } %>
          
                       <% if(lan_obj.Hindi[i] == 'speak'){ %>
                        <% hindi_speak ="checked" %>
                    <% } %>
          
                    <% if(lan_obj.Hindi[i] == 'write'){ %>
                        <% hindi_write ="checked" %>
                    <% } %>
             <% } %>
          
          <% } %>
          
          
          <% var gujarati_speak ="" %>
          <% var gujarati_write = "" %>
          <% var gujarati_read = "" %>
          
          
          <% if(lan_obj.Gujarati.length != 0) { %>
                 
             <% for(let i=0;i<lan_obj.Gujarati.length;i++){ %>
                  
                    <% if(lan_obj.Gujarati[i] == 'read'){ %>
                          <% gujarati_read ="checked" %>
                      <% } %>
          
                      <% if(lan_obj.Gujarati[i] == 'speak'){ %>
                       <% gujarati_speak ="checked" %>
                   <% } %>
          
                   <% if(lan_obj.Gujarati[i] == 'write'){ %>
                       <% gujarati_write ="checked" %>
                   <% } %>
            <% } %>
          
          <% } %>



                <table>

                    <tr>
                        <td>
                            <% var checked_hindi = (lan_obj.Hindi.length != 0)?"checked":"" %>

                            <input type="checkbox" name="lan_hindi" value="Hindi" id="lan_hindi"
                                onclick="clickHandler()" class="hindi"  <%= checked_hindi %>>
                            <label for="lan_1">Hindi</label>

                            <input type="checkbox" name="lan_hindi" value="read" <%= hindi_read %> id="lan_h_r" class="hindi">
                            <label for="lan_1">read</label>

                            <input type="checkbox" name="lan_hindi" value="write"  <%= hindi_write %> class="lan_h_btn hindi" id="lan_h_w">
                            <label for="lan_1">write</label>

                            <input type="checkbox" name="lan_hindi" value="speak"  <%= hindi_speak %> class="lan_h_btn hindi" id="lan_h_s">
                            <label for="lan_1">speak</label>

                        </td>
                    </tr>

                    <tr>

                        <td>
                           
                            <% var checked_english = (lan_obj.English.length != 0)?"checked":"" %>

                            <input type="checkbox" name="lan_eng" value="English" class="lan_english english"
                                id="lan_english" onclick="clickHandler()" <%= checked_english %>>
                            <label for="lan_1">English</label>

                            <input type="checkbox" name="lan_eng" value="read"  <%=english_read %> class="lan_e_btn english" id="lan_e_r">
                            <label for="lan_1">read</label>

                            <input type="checkbox" name="lan_eng" value="write" <%= english_write %> class="lan_e_btn english" id="lan_e_w">
                            <label for="lan_1">write</label>

                            <input type="checkbox" name="lan_eng" value="speak" <%= english_speak %> class="lan_e_btn english" id="lan_e_s">
                            <label for="lan_1">speak</label>

                        </td>
                    </tr>

                    <tr>

                        <td>

                            <% var checked_gujarati = (lan_obj.Gujarati.length != 0)?"checked":"" %>

                            <input type="checkbox" name="lan_gujarati" value="Gujarati" class="lan_gujarati gujarati"
                                id="lan_gujarati" onclick="clickHandler()" <%= checked_gujarati %>>
                            <label for="lan_1">Gujarati</label>

                            <input type="checkbox" name="lan_gujarati" value="read" class="lan_g_btn gujarati"
                                id="lan_g_r" <%= gujarati_read %>>
                            <label for="lan_1">read</label>

                            <input type="checkbox" name="lan_gujarati" value="write" class="lan_g_btn gujarati"
                                id="lan_g_w"  <%= gujarati_write %>>
                            <label for="lan_1">write</label>

                            <input type="checkbox" name="lan_gujarati" value="speak" class="lan_g_btn gujarati"
                                id="lan_g_s"   <%= gujarati_speak %>>
                            <label for="lan_1">speak</label>


                        </td>

                    </tr>

                    <div onclick="language_update()" class="submit-btn-id" style="margin-bottom: 1rem;">update Records</div>

                </table>



                <div class="btn-div">


                    <div id="language_known_prev" onclick="language_known_prev_handler()" class="prev-btn">Prev
                    </div>
                    <div id="language_known_next" onclick="language_known_next_handler()" class="next-btn">Next
                    </div>

                </div>



            </div>




            <div id="technology_known" class="hidden">

                <h3 class="center">Technology known</h3>

                <% var tech_1_b ="" %>
                <% var tech_1_m = "" %>
                <% var tech_1_e = "" %>
                 
                <% if(tech_lan_obj.PHP.length != 0) { %>
                      
                           <% if(tech_lan_obj.PHP[0] == 'beginer'){ %>
                                 <% tech_1_b ="checked" %>
                             <% } %>
                
                             <% if(tech_lan_obj.PHP[0] == 'Mediator'){ %>
                                <% tech_1_m ="checked" %>
                            <% } %>
                
                            <% if(tech_lan_obj.PHP[0] == 'Expert'){ %>
                                <% tech_1_e ="checked" %>
                            <% } %>
                
                <% } %>
                
                
                <% var tech_2_b ="" %>
                <% var tech_2_m = "" %>
                <% var tech_2_e = "" %>
                 
                <% if(tech_lan_obj.MYSQL.length != 0) { %>
                      
                           <% if(tech_lan_obj.MYSQL[0] == 'beginer'){ %>
                                 <% tech_2_b ="checked" %>
                             <% } %>
                
                             <% if(tech_lan_obj.MYSQL[0] == 'Mediator'){ %>
                                <% tech_2_m ="checked" %>
                            <% } %>
                
                            <% if(tech_lan_obj.MYSQL[0] == 'Expert'){ %>
                                <% tech_2_e ="checked" %>
                            <% } %>
                
                <% } %>
                
                
                <% var tech_3_b ="" %>
                <% var tech_3_m = "" %>
                <% var tech_3_e = "" %>
                 
                <% if(tech_lan_obj.LARAVEL.length != 0) { %>
                      
                           <% if(tech_lan_obj.LARAVEL[0] == 'beginer'){ %>
                                 <% tech_3_b ="checked" %>
                             <% } %>
                
                             <% if(tech_lan_obj.LARAVEL[0] == 'Mediator'){ %>
                                <% tech_3_m ="checked" %>
                            <% } %>
                
                            <% if(tech_lan_obj.LARAVEL[0] == 'Expert'){ %>
                                <% tech_3_e ="checked" %>
                            <% } %>
                
                <% } %>
                
                
                <% var tech_4_b ="" %>
                <% var tech_4_m = "" %>
                <% var tech_4_e = "" %>
                 
                <% if(tech_lan_obj.ORACLE.length != 0) { %>
                      
                           <% if(tech_lan_obj.ORACLE[0] == 'beginer'){ %>
                                 <% tech_4_b ="checked" %>
                             <% } %>
                
                             <% if(tech_lan_obj.ORACLE[0] == 'Mediator'){ %>
                                <% tech_4_m ="checked" %>
                            <% } %>
                
                            <% if(tech_lan_obj.ORACLE[0] == 'Expert'){ %>
                                <% tech_4_e ="checked" %>
                            <% } %>
                
                <% } %>
                

                <table>

                    <tr>
                        <td>
                            <% var checked_php = (tech_lan_obj.PHP.length != 0)?"checked":"" %>
                            <input type="checkbox" name="tech_lan_1" value="PHP" <%= checked_php %>  id="tech_1" class="tech_lan_1">
                            <label for="tech_lan_1">PHP</label>

                            <input type="radio" value="beginer" name="tech_lan_1"   <%= tech_1_b %> id="tech_lan_1_B" class="tech_lan_1">
                            <label for="tech_lan_1_B">Beginer</label>

                             <input type="radio" value="Mediator" name="tech_lan_1" <%= tech_1_m %> id="tech_lan_1_M" class="tech_lan_1">
                            <label for="tech_lan_1_M">Mediator</label>

                            <input type="radio" value="Expert" name="tech_lan_1" <%= tech_1_e %> id="tech_lan_1_E" class="tech_lan_1">
                            <label for="tech_lan_1_E">Expert</label>


                        </td>
                    </tr>


                    <tr>

                        <td>
                            <% var checked_mysql = (tech_lan_obj.MYSQL.length != 0)?"checked":"" %>
                            <input type="checkbox"  <%=checked_mysql %> name="tech_lan_2" value="MYSQL" id="tech_2" class="tech_lan_2">
                            <label for="tech_lan_2">MYSQL</label>

                            <input type="radio" <%= tech_2_b %> value="beginer" name="tech_lan_2" id="tech_lan_2_B" class="tech_lan_2">
                            <label for="tech_lan_2_B">Beginer</label>

                            <input type="radio"  <%= tech_2_m %> value="Mediator" name="tech_lan_2" id="tech_lan_2_M" class="tech_lan_2">
                            <label for="tech_lan_2_M">Mediator</label>

                            <input type="radio" <%= tech_2_e %> value="Expert" name="tech_lan_2" id="tech_lan_2_E" class="tech_lan_2">
                            <label for="tech_lan_2_E">Expert</label>


                        </td>
                    </tr>

                    <tr>

                        <td>
                            <% var checked_laravel = (tech_lan_obj.LARAVEL.length != 0)?"checked":"" %>
                            <input type="checkbox" name="tech_lan_3" value="LARAVEL"  <%= checked_laravel %> id="tech_3" class="tech_lan_3">
                            <label for="tech_lan_3">LARAVEL</label>

                            <input type="radio" value="beginer" <%= tech_3_b %> name="tech_lan_3" id="tech_lan_3_B" class="tech_lan_3">
                            <label for="tech_lan_3_B">Beginer</label>

                            <input type="radio" value="Mediator"  <%= tech_3_m %> name="tech_lan_3" id="tech_lan_3_M" class="tech_lan_3">
                            <label for="tech_lan_3_M">Mediator</label>

                            <input type="radio" value="Expert" <%= tech_3_e %> name="tech_lan_3" id="tech_lan_3_E" class="tech_lan_3">
                            <label for="tech_lan_3_E">Expert</label>


                        </td>
                    </tr>

                    <tr>
                        <td>
                            <% var checked_oracle = (tech_lan_obj.ORACLE.length != 0)?"checked":"" %>
                            <input type="checkbox" name="tech_lan_4" value="ORACLE" id="tech_4" <%= checked_oracle %> class="tech_lan_4">
                            <label for="tech_lan_4">ORACLE</label>

                            <input type="radio" value="Beginer" name="tech_lan_4" <%= tech_4_b %> id="tech_lan_4_B" class="tech_lan_4">
                            <label for="tech_lan_4_B">Beginer</label>

                            <input type="radio" value="Mediator" name="tech_lan_4" <%= tech_4_m %> id="tech_lan_4_M" class="tech_lan_4">
                            <label for="tech_lan_4_M">Mediator</label>

                            <input type="radio" value="Expert" name="tech_lan_4" <%= tech_4_e %> id="tech_lan_4_E" class="tech_lan_4">
                            <label for="tech_lan_4_E">Expert</label>


                        </td>
                    </tr>

                    <div onclick="tech_language_update()" class="submit-btn-id">update Records</div>

                </table>


                <div class="btn-div">


                    <div id="technology_known_prev" onclick="technology_known_prev_handler()" class="prev-btn">Prev
                    </div>
                    <div id="technology_known_next" onclick="technology_known_next_handler()" class="next-btn">Next
                    </div>

                </div>



            </div>



            <div id="reference_detail" class="hidden">

                <h3 class="center">Reference Details</h3>

                <table id="ref_table">
                    <tr>
                        <td>
                            <div style="display: flex;gap: 10px;">
                                
                                <div><label for="name">Name</label>
                                    <input type="text" name="reference_id" value="<%= reference_detail[0].id%>" hidden/>
                                    <input type="text" name="ref_name" value="<%= reference_detail[0].name %>" id="ref_name_1" class="reference_name">
                                    <div><span id="error-msg-ref-1 "></span></div>
                                </div>
                                <div><label for="contact_number">Contact Number</label>
                                    <input type="text" value="<%= reference_detail[0].Contact_numeber %>" name="ref_contact" class="ref-field_1 reference_contact">
                                    <!-- <div><span class="error-msg"></span></div> -->
                                </div>
                                <div> <label for="relation">Relation</label>
                                    <input type="text"  value="<%= reference_detail[0].Relation %>" name="ref_relation" class="ref-field_1 reference_relation">
                                    <!-- <div><span class="error-msg"></span></div> -->
                                </div>
                            </div>

                        </td>

                    </tr>



                    <tr id="clone_ref" class="ref_div">

                        <td>

                            <div style="display: flex;gap: 10px;">
                                <div>
                                    <label for="name">Name</label>
                                    <input type="text" name="reference_id" value="<%= reference_detail[1].id%>" hidden/>
                                    <input type="text" name="ref_name" id="ref_name_2" class="reference_name"  value="<%= reference_detail[1].name %>">
                                    <div><span id="error-msg-ref-2"></span></div>
                                </div>
                                <div>
                                    <label for="contact_number">Contact Number</label>
                                    <input type="text" name="ref_contact"  value="<%= reference_detail[1].Contact_numeber %>" class="ref-field_2 reference_contact">
                                    <!-- <div><span></span></div> -->

                                </div>
                                <div>
                                    <label for="relation">Relation</label>
                                    <input type="text" name="ref_relation"  value="<%= reference_detail[1].Relation %>" class="ref-field_2 reference_relation">
                                    <!-- <div><span></span></div> -->
                                </div>
                            </div>


                        </td>

                    </tr>

                    <div onclick="references_update()" class="submit-btn-id" style="margin-bottom: 1rem;">update Records</div>
<!-- 
                    <div style="display: flex;gap: 15px;margin-bottom: 1.5rem;">

                        <button class="ref_add_btn" style="padding: 5px 7px;background-color: rgb(235, 188, 128);"
                            onclick="add_ref_row()">+</button>
                        <button class="ref_remove_btn" style="padding:5px 9px;background-color: rgb(235, 188, 128);"
                            onclick="remove_ref_row()">-</button>

                    </div> -->

                </table>


                <div class="btn-div">


                    <div id="reference_detail_prev" onclick="reference_detail_prev_handler()" class="prev-btn">Prev
                    </div>
                    <div id="reference_detail_next" onclick="reference_detail_next_handler()" class="next-btn">Next
                    </div>

                </div>





            </div>


            <div id="preference_details" class="hidden">

                <h3 class="center">Preference Details</h3>

                <table>

                    <tr style="display: flex;gap: 10px;">
                        <td>
                            <label for="location">Prefered Location</label>

                            <select name="location" id="location" class="preference">

                                <option value="Surat">Surat</option>
                                <option value="Ahmedabad">Ahmedabad</option>
                                <option value="rajkot">Rajkot</option>
                            </select>

                        </td>
                        <td>

                            <div><label for="notice_peroid">Notice Peroid</label>

                                <input type="text" name="notice_peroid" value="<%=preference_detail.notice_period%>" class="require-field preference">
                                <div><span class="error-msg"></span></div>
                                <br><br>
                            </div>
                            <div> <label for="current_ctc">Current ctc</label>

                                <input type="text" name="current_ctc" class="require-field preference" value="<%= preference_detail.current_ctc %>">
                                <div><span class="error-msg"></span></div>
                                <br>
                                <br>

                            </div>
                            <div> <label for="Expected_ctc">Expected ctc</label>
                                <input type="text" name="Expected_ctc" class="require-field preference" value="<%= preference_detail.expected_ctc %>">
                                <div><span class="error-msg"></span></div>
                                <br>
                                <br>
                            </div>


                        </td>
                        <td><label for="department">Department</label>

                            <select name="department" id="department" class="preference">
                                 
                                <option value="<%=preference_detail.department%>" hidden><%=preference_detail.department%></option>
                                <option value="Business Develoment">Business Development</option>
                                <option value="Development">Development</option>
                                <option value="Marketing">Marketing</option>
                            </select>
                        </td>
                    </tr>

                    <div onclick="preferences_update()" class="submit-btn-id" style="margin-bottom: 1rem;">update Records</div>

                </table>


                <div class="btn-div">


                    <div id="preference_detail_prev" onclick="preference_detail_prev_handler()" class="prev-btn">
                        Prev
                    </div>
                    <div id="submit_btn" class="submit-btn" onclick="preferences_insert()">Submit
                    </div>

                </div>

            </div>


            <div id="form_submitted" class="hidden">
                <h3 class="center">Form submitted Successfully !!! </h3>
                <h4>Get Back Job Application form </h4>

                <div class="job_btn"><a href="/">Job Application Form</a></div>


            </div>


        </form>


        <script>


            let id = "";

            var basic_details_table = document.getElementById('basic-details');
            var education_details_table = document.getElementById('education_details');
            var work_experience_table = document.getElementById('work_experience');
            var language_known_table = document.getElementById('language_known');
            var technology_known_table = document.getElementById('technology_known');
            var reference_table = document.getElementById('reference_detail');
            var preference_table = document.getElementById('preference_details');

            var submit_section = document.getElementById('form_submitted');

            var updated_id = document.getElementById("updated_id");


            var allInput = document.getElementsByClassName("require-field");
            var erro_msg = document.getElementsByClassName("error-msg");

            var err_msg_edu = document.getElementsByClassName("error-msg-education");
            var allInput_edu = document.getElementsByClassName("require-field-edu");

            var err_msg_work = document.getElementsByClassName("error-msg-work");
            var allInput_work = document.getElementsByClassName("require-field-work");

            let userId = "";

            function getUserId() {
                
                // userId = document.getElementById('inputId').value;

                //  location
                // var update_form_id = {
                //     id: userId
                // }

                // console.log("inner:"+userId);
                 
                // location = `/updateform?id=${userId}`;

                console.log("location: ",window.location.href.split('=')[1]); 

                userId = window.location.href.split('=')[1];

                // fetch("/updateform", {
                //     headers: {
                //         'Content-Type': 'application/json'
                //     },
                //     method: "POST",
                //     body: JSON.stringify(update_form_id)

                // }).then(function (res) { console.log(res) })
                // .catch(function (res) { console.log(res) })




            }

           



            // let update_id = "";
            // let u_id = "";

            // function updateHandler() {

            //     update_id = updated_id.value;
            //     console.log(update_id);


            // }

            function basic_deails_update()
            {
                
                var gender = document.getElementById('male').checked;
            var genderType = gender ? 'male' : 'female';

               var data = document.querySelectorAll('.basic_detail');

              var updatebasicDetails = {
                id: userId,
                firstname: data[0].value,
                lastname: data[1].value,
                designation: data[2].value,
                email: data[3].value,
                phonenumber: data[4].value,
                dateOfBirth: data[5].value,
                address1: data[6].value,
                address2: data[7].value,
                zipcode: data[8].value,
               relationship_status: data[9].value,
               city: data[10].value,
               state: data[11].value,
               gender: genderType   }    


            fetch("/form/updateBasicDetail",
           {
           headers: {
               'Content-Type': 'application/json'
          },
              method: "POST",
             body: JSON.stringify(updatebasicDetails)
          })
         .then(function (res) { console.log(res) })
         .catch(function (res) { console.log(res) })

            }


            function edu_detail_update()
            {

               var edu_data = document.querySelectorAll('.edu_detail');



                    console.log("length :: " + edu_data.length);

                    var update_edu_details = {
                        id:userId,
                        ssc_board: edu_data[0].value,
                        ssc_year: edu_data[1].value,
                        ssc_per: edu_data[2].value,

                        hsc_board: edu_data[3].value,
                        hsc_year: edu_data[4].value,
                        hsc_per: edu_data[5].value,

                        bachler_collge_name: edu_data[6].value,
                        bachler_collge_uni: edu_data[7].value,
                        bachler_collge_p_year: edu_data[8].value,
                        bachler_collge_per: edu_data[9].value,

                        master_collge_name: edu_data[10].value,
                        master_collge_uni: edu_data[11].value,
                        master_collge_p_year: edu_data[12].value,
                        master_collge_per: edu_data[13].value
                    }



                    fetch("/form/updateEduDetail",
                        {
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            method: "POST",
                            body: JSON.stringify(update_edu_details)
                        })
                        .then(function (res) { console.log(res) })
                        .catch(function (res) { console.log(res) })


            }

            function work_experience_update()
            {

                var company_name = document.querySelectorAll(".company_name");
                var  company_designation = document.querySelectorAll(".company_designation");
                var company_from = document.querySelectorAll(".company_from");
                var    company_to = document.querySelectorAll(".company_to");


                    let cmp_name = [];
                    let cmp_designation = [];
                    let cmp_from = [];
                    let cmp_to = [];

                    for (let i = 0; i < company_name.length; i++) {
                        cmp_name.push(company_name[i].value);
                        cmp_designation.push(company_designation[i].value);
                        cmp_from.push(company_from[i].value);
                        cmp_to.push(company_to[i].value);
                    }

                    var updated_work_experience = {
                        id: userId,
                        company_name: cmp_name,
                        company_designation: cmp_designation,
                        Date_from: cmp_from,
                        Date_to: cmp_to

                    }


                    fetch("/form/updateWorkDetail",
                        {
                            headers: {

                                'Content-Type': 'application/json'
                            },
                            method: "POST",
                            body: JSON.stringify(updated_work_experience)
                        })
                        .then(function (res) { console.log(res) })
                        .catch(function (res) { console.log(res) })

            }

            function language_update()
            {

                var lan_english = document.querySelectorAll('.english');
                var lan_hindi = document.querySelectorAll('.hindi');
                var lan_gujarati = document.querySelectorAll('.gujarati');



                // console.log(lan_english[0].value);


                let lan_e = [];

                for (let i = 0; i < lan_english.length; i++) {
                    if (lan_english[i].checked) {
                        lan_e.push(lan_english[i].value);
                    }
                }


                let lan_h = [];

                for (let i = 0; i < lan_hindi.length; i++) {
                    if (lan_hindi[i].checked) {
                        lan_h.push(lan_hindi[i].value);
                    }
                }


                let lan_g = [];

                for (let i = 0; i < lan_gujarati.length; i++) {
                    if (lan_gujarati[i].checked) {
                        lan_g.push(lan_gujarati[i].value);
                    }
                }


                var update_language_known = {
                    id: userId,
                    hindi: lan_h,
                    english: lan_e,
                    gujarati: lan_g

                };

                fetch("/form/updatelanguage",
                    {
                        headers: {

                            'Content-Type': 'application/json'
                        },
                        method: "POST",
                        body: JSON.stringify(update_language_known)
                    })
                    .then(function (res) { console.log(res) })
                    .catch(function (res) { console.log(res) })


            }

            function tech_language_update()
            {
              var tech_1 = document.querySelectorAll('.tech_lan_1');
               var tech_2 = document.querySelectorAll('.tech_lan_2');
               var tech_3 = document.querySelectorAll('.tech_lan_3');
               var tech_4 = document.querySelectorAll('.tech_lan_4');




                let tech1 = [];
                let tech2 = [];
                let tech3 = [];
                let tech4 = [];


                for (let i = 0; i < 4; i++) {
                    if (tech_1[i].checked) {
                        tech1.push(tech_1[i].value);
                    }

                    if (tech_2[i].checked) {
                        tech2.push(tech_2[i].value);
                    }

                    if (tech_3[i].checked) {
                        tech3.push(tech_3[i].value);
                    }

                    if (tech_4[i].checked) {
                        tech4.push(tech_4[i].value);
                    }


                }

                let update_tech_known = {
                    id: userId,
                    php: tech1,
                    mysql: tech2,
                    laravel: tech3,
                    oracle: tech4
                }


                fetch("/form/updatetechnology",
                    {
                        headers: {

                            'Content-Type': 'application/json'
                        },
                        method: "POST",
                        body: JSON.stringify(update_tech_known)
                    })
                    .then(function (res) { console.log(res) })
                    .catch(function (res) { console.log(res) })


            }

            function preferences_update()
            {

            var preference_div = document.querySelectorAll('.preference');

            var preferences = {

                id:userId,
                location: preference_div[0].value,
                notice_peroid: preference_div[1].value,
                current_ctc: preference_div[2].value,
                expected_ctc: preference_div[3].value,
                deparment: preference_div[4].value


            };

            fetch("/form/updatepreference",
                {
                    headers: {

                        'Content-Type': 'application/json'
                    },
                    method: "POST",
                    body: JSON.stringify(preferences)
                })
                .then(function (res) { console.log(res) })
                .catch(function (res) { console.log(res) })

               
            }

            function references_update()
            {

                var refe_name = document.querySelectorAll('.reference_name');
                var refe_contact = document.querySelectorAll('.reference_contact');
                var refe_relation = document.querySelectorAll('.reference_relation');


                let ref1 = [];
                let ref2 = [];
                let ref3 = [];


                for (let i = 0; i < refe_name.length; i++) {
                    ref1.push(refe_name[i].value);
                    ref2.push(refe_contact[i].value);
                    ref3.push(refe_relation[i].value);

                }

                var updatedReferences = {
                    id:userId,
                    ref_name: ref1,
                    ref_contact: ref2,
                    ref_relation: ref3

                };


                fetch("/form/updateReferences",
                    {
                        headers: {

                            'Content-Type': 'application/json'
                        },
                        method: "POST",
                        body: JSON.stringify(updatedReferences)
                    })
                    .then(function (res) { console.log(res) })
                    .catch(function (res) { console.log(res) })

            }
   
            function basic_detail_handler() {

                basic_details_table.style.display = "none";
                education_details_table.style.display = "block";
            }

            function education_detail_prev_handler() {
                education_details_table.style.display = "none";
                basic_details_table.style.display = "block";

            }


            function education_detail_next_handler() {

                education_details_table.style.display = "none";
                work_experience_table.style.display = "block";

            }


            function work_experience_detail_prev_handler() {

                work_experience_table.style.display = "none";
                education_details_table.style.display = "block";


            }

            function work_experience_detail_next_handler() {

                work_experience_table.style.display = "none";
                language_known_table.style.display = "block";


            }



            function language_known_prev_handler() {


                work_experience_table.style.display = "block";
                language_known_table.style.display = "none";



            }

            function language_known_next_handler() {



                technology_known_table.style.display = "block";
                language_known_table.style.display = "none";



            }


            function technology_known_prev_handler() {



                technology_known_table.style.display = "none";
                language_known_table.style.display = "block";





            }

            function technology_known_next_handler() {

                technology_known_table.style.display = "none";
                reference_table.style.display = "block";


            }


            function reference_detail_prev_handler() {


                technology_known_table.style.display = "block";
                reference_table.style.display = "none";

            }

            function reference_detail_next_handler() {

                preference_table.style.display = "block";
                reference_table.style.display = "none";




            }

            function preference_detail_prev_handler() {
                reference_table.style.display = "block";
                preference_table.style.display = "none";

            }

            function preferences_insert() {



                submit_section.style.display = "block";
                preference_table.style.display = "none";


            }



        </script>

</body>

</html>